name: Curl Component Using Shell
description: A component that uses curl to fetch data and return JSON output.
inputs:
  - {name: url, type: String, description: 'The URL to send curl request'}
outputs:
  - {name: output_json, type: Json, description: 'The JSON output from curl'}

implementation:
  container:
    image: bash:latest
    command:
      - sh
      - -c
      - |
        curl -s ${0} | tee /tmp/output.json
        jq '.' /tmp/output.json > "$1"
    args:
      - {inputValue: url}
      - {outputPath: output_json}
